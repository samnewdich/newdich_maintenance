<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title id="title"></title>
    <link rel="icon" href="/public/favicon.png" />
    <link rel="stylesheet" href="/public/namy.css" />
    <link rel="stylesheet" href="/public/style.css" />
    <script src="/public/jquery.js"></script>
</head>
<body>
    <div class="body-container app-bg-color2" style="color:#545150; font-size:18px;">
        <header class="header-fixed headertop app-bg-color">
            <table class="top-li-first">
                <tr>
                    <td class="td1" id="td1"><img src="/public/logo.png" class="logoclass" /></td>
                    <td class="td2" id="usernameId"><a href="login.html" class="loginclass">Register/Login</a></td>
                    <td class="td3" id="refresher"><a href="airtime.html" style="text-decoration: none; cursor: pointer;"><i class="bi bi-arrow-clockwise icon-size"></i></a></td>
                    <td class="td4"><a href="/demo/vtu/" style="text-decoration: none; cursor: pointer;"><i class="bi bi-box-arrow-in-right"></i></a></td>
                </tr>
            </table>
            
            <div class="balance">
                <table class="balance-table">
                    <tr>
                        <td class="tdb1">
                            <span><i class="bi bi-patch-check"></i></span> &nbsp; Balance &nbsp;
                            <span id="closeBal"><i class="bi bi-eye-fill"></i></span>
                            <span id="openBal"><i class="bi bi-eye-slash-fill"></i></span>
                        </td>
                        
                        <td class="tdb2" style="text-align:center;">
                            <span>History </span>
                        </td>
                    </tr>
                </table>
                
                
                <table class="balance-table">
                    <tr>
                        <td class="tdb3">
                            <span id="avalibaloopen">#0.00</span>
                            <span id="avalibaloclose">****</span>
                        </td>
                        
                        <td class="tdb4">
                            <button>+ Deposit</button>
                        </td>
                    </tr>
                </table>
            </div>
        </header> 

     
        <div class="columns1-equal-div-container-fixed">
            <div class="columns1-equal-left-div-fixed black">
                  <!--CONTENT COMES HERE--> 
                  
                  
                  <div class="app-bg-color div-spacer">
                    <div class="fieldsetclass thick-shadow">
                        <fieldset>
                            <legend>Data</legend>
                            <div class="fieldsetinputclass">
                                <label>Network</label>
                                <select class="input" id="network" onchange="fetchPlanTypes()">
                                    <option value="">Choose One</option>
                                    <option value="9mobile">9Mobile</option>
                                    <option value="airtel">Airtel</option>
                                    <option value="glo">GLO</option>
                                    <option value="mtn">MTN</option>
                                </select>
                            </div>

                            <div class="fieldsetinputclass">
                                <label>Currency</label>
                                <select class="input" id="currency" onchange="fetchPlanTypes()">
                                    <option value="NGN">Nigerian Naira</option>
                                    <option value="GHC">Ghanian Cedis</option>
                                    <option value="ZAR">South African Rands</option>
                                    <option value="USD">United States Dollar</option>
                                    <option value="GBP">Great British Pounds</option>
                                </select>
                            </div>

                            <div class="fieldsetinputclass">
                                <label>Recipient Phone Number</label>
                                <input type="number" class="input" placeholder="Recipient phone number" id="phone" />
                            </div>

                            <div class="fieldsetinputclass">
                                <label>Plan Type</label>
                                <div id="plantype">
                                    <select class="input" id="plantype">
                                        <option value="">Choose One</option>
                                        <option value="sme">SME</option>
                                        <option value="corporatr-gifting">Corporate Gifting</option>
                                    </select>
                                </div>
                            </div>

                            <div class="fieldsetinputclass">
                                <label>Data Plan</label>
                                <div id="planplan">
                                    <select class="input" id="planplan">
                                        <option value="10GB">10GB(30days) - NGN1000</option>
                                        <option value="15GB">15GB(30days) - NGN1500</option>
                                    </select>
                                </div>
                            </div>
                            <button onclick="buyDataFunc()" class="btn royalblue-bg white">Continue</button>


                            
                            <div id="output" style="text-align: center;"></div>
                            <br />
                        </fieldset>
                    </div>
                  </div>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="bottom-spacer"></div>
            </div>
        </div>
        
        




        <footer class="thin-shadow app-bg-color silver" id="footer">
            <div>
              <table style="width: 100%;">
                  <tr style="width: 100%;">
                      <td class="text-align-center"><i class="bi bi-house-door-fill icon-style-bottom"></i><br>Home</td>
                      <td class="text-align-center"><a href="https://wa.me/+2347032095559?text=Hi, I am a user of newdichvtu" target="_blank"><i class="bi bi-whatsapp green"></i><br>Contact Us</a></td>
                      <td class="text-align-center"><i class="bi bi-chat-dots-fill icon-style-bottom"></i><br>Support</td>
                      <td class="text-align-center"><i class="bi bi-person-circle icon-style-bottom"></i><br>Profile</td>
                  </tr>
              </table>
             </div>
          </footer>
      


    </div>









<!--MODAL DIV START-->
<div id="modal">
    <div id="modalcloser">
        <button id="closerbtn" onclick="closeModal()">X</button>
    </div>
    <div id="modalinner"></div>
</div>
<style>
    #modal{
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 95%;
        min-height: 95%;
        margin-top: 10px;
        background-color: white;
        opacity: 1.0;
        z-index: 100;
        display: none;
    }
    #modalinner{
        width: 90%;
        margin-left: 5%;
        padding: 10px;
        color:royalblue;
        text-align: center;
    }
    #modalcloser{
        width: 100%;
    }
    #closerbtn{
        margin-left: 90%;
        max-width: 60px;
        max-height: 60px;
        background-color: red;
        border-color: red;
        color: white;
        cursor: pointer;
    }
</style>




<script>
    function buyDataFunc(){
        event.preventDefault();
        let network = document.getElementById("network").value;
        let currency = document.getElementById("currency").value;
        let phone = document.getElementById("phone").value;
        let dataplantype = document.getElementById("dataplantype").value;
        let dataplanplan = document.getElementById("dataplanplan").value;
        
        //now call the openmodal and pass this data to it
        //openmoal and pass data into modalinner id
        openModal();
        document.getElementById('modalinner').innerHTML=`
            <div style="padding:2px; text-align:center;">
                Recipient: ${phone}<br/>
                Network: ${network.toUpperCase()}<br/>
                Currency: ${currency.toUpperCase()}<br/>
                Quantity: ${dataplanplan}<br/>
                Plan Type: ${dataplantype}
            </div>

            <div id="tokendiv">
            <p style="font-size:12px; font-weight:bolder;">Confirm Transaction With Your Transaction Token</p>
            <table style="width: 100%;">
                <tr>
                    <td>
                        <input type="number" class="tokinp" id="token1" onkeyup="tokenInp1()" />
                    </td>
                                        
                    <td>
                        <input type="number" class="tokinp" id="token2" onkeyup="tokenInp2()" />
                    </td>
                                        
                    <td>
                        <input type="number" class="tokinp" id="token3"  onkeyup="tokenInp3()" />
                    </td>
                                        
                    <td>
                        <input type="number" class="tokinp" id="token4"  onkeyup="tokenInp4('${phone}','${dataplanplan}','${dataplantype}','${network}')" />
                    </td>
                </tr>
            </table>
            </div>
            <div id="tokenoutput" style="font-size:12px; font-weight:bold;"></div>
            <div class="red" style="font-size:12px; font-weight:bold; margin-top:30px;">Don't have a Transaction Token ? <a href="/set-ttoken" style="height:100px; 35px; background-color:royalblue; color:white; cursor:pointer; text-decoration:none; padding:7px;">Set Token</a></div>
        `;
        //let dataDataToSend =`email=${email}&accountType=${accountType}&phone=${phone}&planId=${dataPlanId}&planType=${dataType}&networkId=${dataNetworkId}&network=${dataNetwork}&validity=${dataValidity}&quantity=${dataQuantity}&amount=${dataAmount}&amountToPay=${dataAmountToPay}&provider=${dataProvider}&status=${dataStatus}&currency=${dataCurrency}&discount=${dataDiscount}`;
    }
</script>



<script>
    function tokenInp1(){
        let token1 = document.getElementById("token1").value;
        //now focus to next input
        document.getElementById("token2").focus();
    }

    function tokenInp2(){
        let token2 = document.getElementById("token2").value;
        //now focus to next input
        document.getElementById("token3").focus();
    }

    function tokenInp3(){
        let token3 = document.getElementById("token3").value;
        //now focus to next input
        document.getElementById("token4").focus();
    }
    
    function tokenInp4(phone, planId, planType, network){
        let token4 = document.getElementById("token4").value;
        //now check token entered
        checkTokensEntered(phone, planId, planType, network);
    }

    function checkTokensEntered(phone, planId, planType, network){
        let token1 = document.getElementById("token1").value;
        let token2 = document.getElementById("token2").value;
        let token3 = document.getElementById("token3").value;
        let token4 = document.getElementById("token4").value;
        //concatenate to check
        let ttoken1 = `${token1}${token2}${token3}${token4}`;
        
        document.getElementById("tokenoutput").innerHTML=`
        <font style="color:green;">Transaction was successful<font><br/>
            <p>${planType} was sent to ${phone}</p>
        `;
    }
</script>
</body>
</html>